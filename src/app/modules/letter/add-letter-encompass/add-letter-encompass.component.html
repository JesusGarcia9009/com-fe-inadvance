<div class="main-content">
    <div class="container-fluid">

        <div class="row">
            <div class="col-md-12">

                <div class="main-content">
                    <div class="container-fluid">
                        <form [formGroup]="searchForm" (ngSubmit)="onSearchSubmit()" style="margin-bottom:0px">
                            <div class="row">
                                <div class="col-md-12 col-lg-12">
                                    <div class="card ">
                                        <div class="card-header card-header-rose card-header-icon">
                                            <div class="card-icon">
                                                <i class="material-icons">assignment</i>
                                            </div>
                                            <h4 class="card-title">Get Data from Encompass</h4>
                                        </div>
                                        <div class="card-body">
                                            <div class="row">
                                                <div class="col-md-8">
                                                    <p>e1c75b0f-4251-4971-a433-5aee0b7d93c6</p>
                                                    <div class="row">
                                                        <div class="col">
                                                            <mat-form-field>
                                                                <input matInput formControlName="idLoan"
                                                                    placeholder="* Id Encompass" autocomplete="off"
                                                                    type="input">
                                                                <mat-error *ngIf="(searchFormControls.idLoan.dirty || searchFormControls.idLoan.touched) 
                                                        && searchFormControls.idLoan.errors?.required">
                                                                    The "Id Encompass" field is
                                                                    <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col">
                                                            <div class="d-flex flex-row">
                                                                <button mat-raised-button type="submit"
                                                                    [disabled]="!searchForm.valid"
                                                                    class="btn btn-fill btn-rose">Search</button>
                                                                <button (click)="cancel()" mat-raised-button
                                                                    type="button" class="btn btn-fill btn-default ml-2">
                                                                    Cancel</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="row" *ngIf="loanOfficer">
                                                        <h5>Loan Officer</h5>
                                                    </div>
                                                    <div class="row" *ngIf="loanOfficer">
                                                        <strong>Full name: </strong>{{loanOfficer.fullName }}
                                                    </div>
                                                    <div class="row" *ngIf="loanOfficer?.email">
                                                        <strong>Email: </strong>{{loanOfficer.email }}
                                                    </div>
                                                    <div class="row" *ngIf="loanOfficer?.cellphone">
                                                        <strong>Cell: </strong>{{loanOfficer.cellphone }}
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>


                        <form [formGroup]="registerForm" (ngSubmit)="onRegisterSubmit()" *ngIf="element">

                            <div class="row">
                                <div class="col">

                                    <div class="row">
                                        <div class="col-md-12 col-lg-12">
                                            <div class="card ">
                                                <div class="card-header card-header-rose card-header-icon">
                                                    <div class="card-icon">
                                                        <i class="material-icons">apartment</i>
                                                    </div>
                                                    <h4 class="card-title">Letter data</h4>
                                                </div>
                                                <div class="card-body">
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="location"
                                                                    placeholder="* Location" autocomplete="off"
                                                                    type="input">
                                                                <mat-error *ngIf="(registerFormControls.location.dirty || registerFormControls.location.touched) 
                                                                && registerFormControls.location.errors?.required">
                                                                    The "location" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>


                                                        </div>
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="price"
                                                                    placeholder="* Price" autocomplete="off"
                                                                    type="number">
                                                                <mat-error *ngIf="(registerFormControls.price.dirty || registerFormControls.price.touched) 
                                                                && registerFormControls.price.errors?.required">
                                                                    The "price" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>


                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="interest"
                                                                    placeholder="* Interest (%)" autocomplete="off"
                                                                    type="number">
                                                                <mat-error *ngIf="(registerFormControls.interest.dirty || registerFormControls.interest.touched) 
                                                                && registerFormControls.interest.errors?.required">
                                                                    The "interest" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>

                                                        </div>
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="mi"
                                                                    placeholder="* MI (%)" autocomplete="off"
                                                                    type="number">
                                                                <mat-error *ngIf="(registerFormControls.mi.dirty || registerFormControls.mi.touched) 
                                                                && registerFormControls.mi.errors?.required">
                                                                    The "mi" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>


                                                        </div>
                                                    </div>
                                                    <div class="row">

                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="insurance"
                                                                    placeholder="* Insurance (montlhy)"
                                                                    autocomplete="off" type="number">
                                                                <mat-error *ngIf="(registerFormControls.insurance.dirty || registerFormControls.insurance.touched) 
                                                                && registerFormControls.insurance.errors?.required">
                                                                    The "insurance" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>

                                                        </div>
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="taxes"
                                                                    placeholder="* Taxes (montlhy)" autocomplete="off"
                                                                    type="number">
                                                                <mat-error *ngIf="(registerFormControls.taxes.dirty || registerFormControls.taxes.touched) 
                                                                && registerFormControls.taxes.errors?.required">
                                                                    The "taxes" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>



                                                        </div>

                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="loanTerm"
                                                                    placeholder="* LoanTerm (months)" autocomplete="off"
                                                                    type="number">
                                                                <mat-error *ngIf="(registerFormControls.loanTerm.dirty || registerFormControls.loanTerm.touched) 
                                                                && registerFormControls.loanTerm.errors?.required">
                                                                    The "loanTerm" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>
                                                        </div>
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="ltv"
                                                                    placeholder="* Ltv (%)" autocomplete="off"
                                                                    type="number">
                                                                <mat-error *ngIf="(registerFormControls.ltv.dirty || registerFormControls.ltv.touched) 
                                                                && registerFormControls.ltv.errors?.required">
                                                                    The "ltv" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <mat-select placeholder="* LoanType"
                                                                    formControlName="loanType" name="loanType">
                                                                    <mat-option value="FHA">FHA </mat-option>
                                                                    <mat-option
                                                                        value="Conventional">Conventional</mat-option>
                                                                </mat-select>
                                                                <mat-error *ngIf="(registerFormControls.loanType.dirty || registerFormControls.loanType.touched) 
                                                            && registerFormControls.loanType.errors?.required">
                                                                    The "loanType" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>


                                                        </div>
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="maxPay"
                                                                    placeholder="* MaxPay" autocomplete="off"
                                                                    type="number">
                                                                <mat-error *ngIf="(registerFormControls.maxPay.dirty || registerFormControls.maxPay.touched) 
                                                                && registerFormControls.maxPay.errors?.required">
                                                                    The "maxPay" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>

                                                        </div>

                                                    </div>
                                                    <div class="row">
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="hoa" type="number"
                                                                    placeholder="* HOA (montlhy)" autocomplete="off">
                                                                <mat-error *ngIf="(registerFormControls.hoa.dirty || registerFormControls.hoa.touched) 
                                                                && registerFormControls.hoa.errors?.required">
                                                                    The "hoa" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>

                                                        </div>
                                                        <div class="col-md-6">
                                                            <mat-form-field>
                                                                <input matInput formControlName="loanAmount"
                                                                    placeholder="* LoanAmount" autocomplete="off"
                                                                    type="number">
                                                                <mat-error *ngIf="(registerFormControls.loanAmount.dirty || registerFormControls.loanAmount.touched) 
                                                                && registerFormControls.loanAmount.errors?.required">
                                                                    The "loanAmount" field is <strong>required</strong>
                                                                </mat-error>
                                                            </mat-form-field>
                                                        </div>
                                                    </div>
                                                    <div class="row mt-4">
                                                        <div class="col">
                                                            <button (click)="goBack()" mat-raised-button type="button"
                                                                class="btn btn-fill btn-default">
                                                                Go Back to List</button>
                                                            <button mat-raised-button type="submit"
                                                                [disabled]="!registerForm.valid"
                                                                class="btn btn-fill btn-rose">Save</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col" style="padding-bottom: 0%;">
                                    <div class="row">
                                        <div class="col-md-12 col-lg-12">
                                            <div class="card ">
                                                <div class="card-header card-header-rose card-header-icon">
                                                    <div class="card-icon">
                                                        <i class="material-icons">assignment_ind</i>
                                                    </div>
                                                    <h4 class="card-title">Borrower and coborrower</h4>
                                                </div>
                                                <div class="card-body">

                                                    <div class="material-datatables">
                                                        <div class="table-responsive">
                                                            <table class="table table-striped  table-hover"
                                                                cellspacing="0">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="min-width: 50px;">Name</th>
                                                                        <th style="min-width: 50px;">Type</th>
                                                                        <th style="min-width: 50px;">Email</th>
                                                                        <th style="min-width: 50px;">Phone</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let row of clients">
                                                                        <td>
                                                                            {{ row.name }} {{ row.lastName }}
                                                                        </td>
                                                                        <td>{{row.type }} </td>
                                                                        <td>{{ row.email }} </td>
                                                                        <td>{{ row.cellphone }}</td>

                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row" style="padding-bottom: 0%; padding-top: 0%;">
                                        <div class="col-md-12 col-lg-12">
                                            <div class="card ">
                                                <div class="card-header card-header-rose card-header-icon">
                                                    <div class="card-icon">
                                                        <i class="material-icons">assignment_ind</i>
                                                    </div>
                                                    <h4 class="card-title">Realtors</h4>
                                                </div>
                                                <div class="card-body">

                                                    <div class="material-datatables">
                                                        <div class="table-responsive">
                                                            <table class="table table-striped  table-hover"
                                                                cellspacing="0">
                                                                <thead>
                                                                    <tr>
                                                                        <th style="min-width: 50px;">Name</th>
                                                                        <th style="min-width: 50px;">License number</th>
                                                                        <th style="min-width: 50px;">Email</th>
                                                                        <th style="min-width: 50px;">Phone</th>
                                                                    </tr>
                                                                </thead>
                                                                <tbody>
                                                                    <tr *ngFor="let row of realtors">
                                                                        <td>{{ row.fullName }}</td>
                                                                        <td>{{row.licenseNumber }} </td>
                                                                        <td>{{ row.email }} </td>
                                                                        <td>{{ row.cellphone }}</td>

                                                                    </tr>
                                                                </tbody>
                                                            </table>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>